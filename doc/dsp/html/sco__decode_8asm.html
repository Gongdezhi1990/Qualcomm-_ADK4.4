<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Kalimba DSP Reference Guide: frame_sync/sco_decode.asm File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kalimba DSP Reference Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1706797bd6f3daf39bf15ba25aeb2307.html">frame_sync</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sco_decode.asm File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This library provides routines to copy SCO data from the port to buffers. It reads the meta data packet with in-band headers from from the port and writes the packet with a limitted in-band header to a buffer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4c798c03a5227ecf174b0b55b12d4f4b"><td class="memItemLeft" align="right" valign="top">Module: $frame_sync.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#a4c798c03a5227ecf174b0b55b12d4f4b">sco_initialize</a> </td></tr>
<tr class="memdesc:a4c798c03a5227ecf174b0b55b12d4f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the SCO medta data logic plus the decoder and PLC algorithm.  <a href="#a4c798c03a5227ecf174b0b55b12d4f4b">More...</a><br /></td></tr>
<tr class="separator:a4c798c03a5227ecf174b0b55b12d4f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96deeeb5055556c5fd9852ce77f590c8"><td class="memItemLeft" align="right" valign="top">Module: $frame_sync.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#a96deeeb5055556c5fd9852ce77f590c8">sco_port_handler</a> </td></tr>
<tr class="memdesc:a96deeeb5055556c5fd9852ce77f590c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the SCO port checking for packets. Provided there is sufficient space for a complete packet in the buffer and there is any data in the port, this function will read the port. If the data represents a valid packet it is written to the buffer. If it does not, the connents of the port are read and thrown away. This effectively purges the port. Header words are read as 16-bit little-endian, With no saturation. The Payload is also read as 16-bit words. However, the endian and saturation modes are configuable through the sco.decoder data structure. Port packets are aligned on 16-bit word boundries. If the payload is an odd number of bytes it is padded to maintain word alignment. The payload size field does not include the padding.  <a href="#a96deeeb5055556c5fd9852ce77f590c8">More...</a><br /></td></tr>
<tr class="separator:a96deeeb5055556c5fd9852ce77f590c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3caa7ce20172a5ccdbd2d7d156c527a"><td class="memItemLeft" align="right" valign="top">Module: $frame_sync.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#ae3caa7ce20172a5ccdbd2d7d156c527a">sco_decode</a> </td></tr>
<tr class="memdesc:ae3caa7ce20172a5ccdbd2d7d156c527a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform appropriate decoder and optional PLC operation in SCO packets. operates on the buffer written to by $frame_sync.sco_port_handler.  <a href="#ae3caa7ce20172a5ccdbd2d7d156c527a">More...</a><br /></td></tr>
<tr class="separator:ae3caa7ce20172a5ccdbd2d7d156c527a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee4980271f12ebc02365a6a07f5b5c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ee4980271f12ebc02365a6a07f5b5c7"></a>
Module: $frame_sync.sco_decoder pcm&#160;</td><td class="memItemRight" valign="bottom"><b>initialize</b> </td></tr>
<tr class="separator:a1ee4980271f12ebc02365a6a07f5b5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3af0f80378dc07c642b39eb3af89de1"><td class="memItemLeft" align="right" valign="top">Module: $frame_sync.sco_decoder pcm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#af3af0f80378dc07c642b39eb3af89de1">validate</a> </td></tr>
<tr class="memdesc:af3af0f80378dc07c642b39eb3af89de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validation function for for PCM formated SCO data.  <a href="#af3af0f80378dc07c642b39eb3af89de1">More...</a><br /></td></tr>
<tr class="separator:af3af0f80378dc07c642b39eb3af89de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d2d10ead3c399c16c1945750cd15fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89d2d10ead3c399c16c1945750cd15fe"></a>
Module: $frame_sync.sco_decoder pcm&#160;</td><td class="memItemRight" valign="bottom"><b>process</b> </td></tr>
<tr class="separator:a89d2d10ead3c399c16c1945750cd15fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b12f26f9022cb9930b4d4d7e81f411"><td class="memItemLeft" align="right" valign="top">Module: $frame_sync.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#ae5b12f26f9022cb9930b4d4d7e81f411">sco_encode</a> </td></tr>
<tr class="memdesc:ae5b12f26f9022cb9930b4d4d7e81f411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform encoding of SCO synchronized data.  <a href="#ae5b12f26f9022cb9930b4d4d7e81f411">More...</a><br /></td></tr>
<tr class="separator:ae5b12f26f9022cb9930b4d4d7e81f411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50803e69fce73eb17200153d3c8cfc40"><td class="memItemLeft" align="right" valign="top">Module: $sco_timing.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#a50803e69fce73eb17200153d3c8cfc40">PortConnected</a> </td></tr>
<tr class="memdesc:a50803e69fce73eb17200153d3c8cfc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect SCO Port Connection.  <a href="#a50803e69fce73eb17200153d3c8cfc40">More...</a><br /></td></tr>
<tr class="separator:a50803e69fce73eb17200153d3c8cfc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab2960fea0c4334f7953c087fd189e1"><td class="memItemLeft" align="right" valign="top">Module&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#a4ab2960fea0c4334f7953c087fd189e1">$rm_bluetooth_address_handler</a> </td></tr>
<tr class="memdesc:a4ab2960fea0c4334f7953c087fd189e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get BT address for SCO connection.  <a href="#a4ab2960fea0c4334f7953c087fd189e1">More...</a><br /></td></tr>
<tr class="separator:a4ab2960fea0c4334f7953c087fd189e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fcd26b7a498411ce270e61e231f334"><td class="memItemLeft" align="right" valign="top">Module: $M.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#a58fcd26b7a498411ce270e61e231f334">sco_params</a> </td></tr>
<tr class="memdesc:a58fcd26b7a498411ce270e61e231f334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message detailing sco-connection parameters.  <a href="#a58fcd26b7a498411ce270e61e231f334">More...</a><br /></td></tr>
<tr class="separator:a58fcd26b7a498411ce270e61e231f334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab725dbc8cc1167d22ddbb7a6887921be"><td class="memItemLeft" align="right" valign="top">Module: $sco_timing.&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sco__decode_8asm.html#ab725dbc8cc1167d22ddbb7a6887921be">SyncClock</a> </td></tr>
<tr class="memdesc:ab725dbc8cc1167d22ddbb7a6887921be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize BT Clock and SCO Transmit with ISR.  <a href="#ab725dbc8cc1167d22ddbb7a6887921be">More...</a><br /></td></tr>
<tr class="separator:ab725dbc8cc1167d22ddbb7a6887921be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This library provides routines to copy SCO data from the port to buffers. It reads the meta data packet with in-band headers from from the port and writes the packet with a limitted in-band header to a buffer. </p>
<p><em>[SDK Folder]</em>/src/kalimba/frame_sync/sco_decode.asm</p>
<p>Part of ADK_CSR867x.WIN. 4.4</p>
<h1>SCO MetaData Library</h1>
<p>Each packet in the input buffer is processed by the appropriate decoder and optionally the Packet Loss Conealment (PLC) algorothm. The resulting PCM data is written to the output buffer.</p>
<p>port&ndash;&gt;[$frame_sync.sco_port_handler]&ndash;&gt;buffer&ndash;&gt;[$frame_sync.sco_decode]&ndash;&gt;buffer </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4ab2960fea0c4334f7953c087fd189e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$rm_bluetooth_address_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get BT address for SCO connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td>r1 = BT Address Type | (port) r2 = BT ADdress Word 0 r3 = BT ADdress Word 1 r4 = BT ADdress Word 2</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td>RESERVED REGISTERS:</td></tr>
  </table>
  </dd>
</dl>
<dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
<dl>
<dt><b>Notes:</b></dt>
<dd></dd>
</dl>

</div>
</div>
<a class="anchor" id="a50803e69fce73eb17200153d3c8cfc40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$sco_timing PortConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect SCO Port Connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td>r1 = Connected Write Port</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td>RESERVED REGISTERS:</td></tr>
  </table>
  </dd>
</dl>
<dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
<dl>
<dt><b>Notes:</b></dt>
<dd></dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3caa7ce20172a5ccdbd2d7d156c527a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$frame_sync sco_decode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform appropriate decoder and optional PLC operation in SCO packets. operates on the buffer written to by $frame_sync.sco_port_handler. </p>
<p>DSP buffers are 24-bits wide. The packet format in the buffer is: [ 0x00 ¦ payload size ] (size in bytes, 8-bit) </p><h2>[ 0x00 ¦ 0x00 ¦ status ] </h2>
<p>[ (payload) ]</p>
<p>The operation is: 1) Check the port. If it is not connected then purge the input buffer and exit. 2) Check the input Buffer. If it is empty then exit. Otherwise, calculate and save where the buffer's read pointer should be after the packet is processed. Save the current packet's payload size in bytes and status. 3) Get the amount of space in the output buffer and call the decoder validate function. The validate function returns the decoded packet size in samples. The validate function returns zero to indicate insufficient space. If zero then exit 4) Collect debug statistics on packet status 5) Call decoder's decode function to generate samples in the output buffer. The decode function returns the output packet status. 6) Update the input buffer's read pointer. If the output packet status is negative then exit without updating the output buffer. 7) Update statistics for output packet error rates. 8) If PLC is enabled, then call the PLC processing function. It will update the output buffer's write pointer as appropriate. If PLC is not enabled, update the output buffer's write pointer as appropriate. If PLC is not enabled and the output packet status indicates a missed packet (0x02 or 0x03) replace the output packets with the last PCM value from the previous output packet. 9) Repeat this sequence to process then next packet in the input buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td><ul>
<li>r7 = pointer to sco.decoder data structure:</li>
</ul>
</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td><ul>
<li>none</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>RESERVED REGISTERS:</p><ul>
<li>none <dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
</li>
</ul>
<dl>
<dt><b>Notes:</b></dt>
<dd><p class="startdd">If PLC is not enabled, Bit errors are ignored to emulate previous firmware operation.</p>
<p class="enddd"></p>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5b12f26f9022cb9930b4d4d7e81f411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$frame_sync sco_encode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform encoding of SCO synchronized data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td>R9 = encoder data object pointer </td></tr>
    <tr><td class="paramname">OUTPUTS</td><td>RESERVED REGISTERS: R9 <dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all, except R9</dd>
</dl>
</td></tr>
  </table>
  </dd>
</dl>
<dl>
<dt><b>Notes:</b></dt>
<dd></dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c798c03a5227ecf174b0b55b12d4f4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$frame_sync sco_initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the SCO medta data logic plus the decoder and PLC algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td><ul>
<li>r7 = pointer to sco.decoder data structure:</li>
</ul>
</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td><ul>
<li>none</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>RESERVED REGISTERS:</p><ul>
<li>none <dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
</li>
</ul>
<dl>
<dt><b>Notes:</b></dt>
<dd>If input is not connected, purge the input and exit Buffering state - If amount of data in input cbuffer &lt; buffering threshold, exit Decoding state - Do normal decoding and exit Still need to implement adaptive buffering threshold logic Still need to call reset decoder - disconnected to connected state Return code is put into M[r5 + $frame_sync.stream_decode.MODE_FIELD] $codec.SUCCESS is returned on success $codec.NOT_ENOUGH_INPUT_DATA is returned if unconnected or buffering other errors may be returned by the low-level encoder </dd>
</dl>

</div>
</div>
<a class="anchor" id="a58fcd26b7a498411ce270e61e231f334"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$M sco_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message detailing sco-connection parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td>r3-points to long message structure of format: offset 0 - SCO connection handle (portnum) offset 1 - Tesco (slots) - period between SCO instants offset 2 - Wesco (slots) - size of retransmission window offset 3 - to-air packet length (bytes) offset 4 - from-air packet length (bytes) offset 5 - MS 16bits of btclock giving start of reserved slots offset 6 - LS 16bits of btclock giving start of reserved slots offset 7 - to-air deadline relative to start of reserved slots (microseconds) offset 8 - from-air deadline relative to start of reserved slots (microseconds) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a96deeeb5055556c5fd9852ce77f590c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$frame_sync sco_port_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll the SCO port checking for packets. Provided there is sufficient space for a complete packet in the buffer and there is any data in the port, this function will read the port. If the data represents a valid packet it is written to the buffer. If it does not, the connents of the port are read and thrown away. This effectively purges the port. Header words are read as 16-bit little-endian, With no saturation. The Payload is also read as 16-bit words. However, the endian and saturation modes are configuable through the sco.decoder data structure. Port packets are aligned on 16-bit word boundries. If the payload is an odd number of bytes it is padded to maintain word alignment. The payload size field does not include the padding. </p>
<p>The packet format in the port is: [sync word ] (0x5C5C) [header size ] (size in words, 16-bit) [payload size ] (size in bytes, 8-bit) [0x00 ¦ status ] </p><h2>[ (extra header) ] (not used) </h2>
<p>[ (payload) ]</p>
<p>DSP buffers are 24-bits wide. The packet format in the buffer is: [ 0x00 ¦ payload size ] (size in bytes, 8-bit) </p><h2>[ 0x00 ¦ 0x00 ¦ status ] </h2>
<p>[ (payload) ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td><ul>
<li>r8 = pointer to sco.decoder data structure:</li>
</ul>
</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td><ul>
<li>none</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>RESERVED REGISTERS:</p><ul>
<li>none <dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
</li>
</ul>
<dl>
<dt><b>Notes:</b></dt>
<dd><p class="startdd">Conditions for a valid packet are: 1) Amount of Data in port is &gt;= 4 words 2) First word read is 0x5C5C (sync word) 3) Amount of Data in port is &gt;= header size provided in header 4) Amount of Data in port is &gt;= header plus payload size provided in header</p>
<p class="enddd"></p>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ab725dbc8cc1167d22ddbb7a6887921be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$sco_timing SyncClock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronize BT Clock and SCO Transmit with ISR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td>r7 = Ptr to task Frame Counter r1 = Ptr to timer task struct r3 = Ptr to Timer Task Handler</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td>RESERVED REGISTERS:</td></tr>
  </table>
  </dd>
</dl>
<dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
<dl>
<dt><b>Notes:</b></dt>
<dd></dd>
</dl>

</div>
</div>
<a class="anchor" id="af3af0f80378dc07c642b39eb3af89de1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$frame_sync sco_decoder pcm validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validation function for for PCM formated SCO data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">INPUTS</td><td><ul>
<li>r7 = pointer to sco.decoder data structure:</li>
<li>r8 = pointer to decoder's data structure</li>
<li>r0 = space in output buffer</li>
<li>r2 = input packet status</li>
<li>r5 = input packet size in bytes</li>
<li>r6 = input packet size in words (r5+1)&gt;&gt;1</li>
<li>I0 = pointer to start of payload in input buffer</li>
<li>L0 = size if input buffer</li>
</ul>
</td></tr>
    <tr><td class="paramname">OUTPUTS</td><td><ul>
<li>r1 = size in samples of output packet. Zero if there is insufficient space in the buffer</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>RESERVED REGISTERS:</p><ul>
<li>r2,r5,r6,r7,I0,L0</li>
</ul>
<dl>
<dt><b>Trashed Registers:</b></dt>
<dd>- all</dd>
</dl>
<dl>
<dt><b>Notes:</b></dt>
<dd><p class="startdd">PCM has no decoder data struct (r8=Null)</p>
<p class="enddd"></p>
</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 3 2018 03:05:07 for Kalimba DSP Reference Guide by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
